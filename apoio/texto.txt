Quando o usuário clicar em Gravar as seguintes ações devem ser tomadas:


Mostrar na tela todos os parametros que serão gravados no banco de dados, abaixo dois botões, um cinza(retornar)
e um azul(confirmar), que gravará as informações no banco de dados.

A página deve exibir todos os parametros que serão gravados, com descrição:


Na tabela alimentosConsumidos(uma entrada para cada alimento da lista):

carboidrato
data
energia
gMl(peso em g/ml)
gordura
nome
ocasiao(A refeição selecionada)
proteina
uid(uid do usuário logado)

Na tabela insulinaAdministrada(uma entrada para insulina calculada para carboidrato, e outra entrada
para insulina calculada para correção, se houver):

data
ocasiao(A refeição selecionada)
quantidade()
tipo(que sempre será "rapida")
correcao(verdadeiro se for o valor calculado para correção.)
uid(uid do usuário logado)

obs: Os parâmetros dos alimentos devem ser buscados nas tabelas alimentos e meusAlimentos.



Cada alimento consumido deve ter uma entrada na tabela alimentosConsumidos com os seguintes dados:

carboidrato(cho)
data(data)
energia(kcal)
gMl(peso)
gordura(gordura)
nome(nome do alimento)
proteina(proteina)
uid(uid do usuário logado)
ocasiao: cafeDaManha, se for Café da Manhã.
lancheDaManha, se for Lanche da Manhã.
almoco, se for Almoço.
sobremesa, se for Sobremesa.
lancheDaTarde, se for Lanche da Tarde.
jantar, se for Jantar.
ceia, se for Ceia.
lancheAvulso, se for Lanche Avulso.


Gravar na tabela insulinaAdministrada, os dados das insulinas(uma entrada para cada tipo de correção):

correcao(falso ou verdadeiro )
data
ocasiao(mesmo padrão de alimentosConsumidos)
quantidade(quantidade de insulina)
tipo(sempre será rapida)
uid(uid do usuário logado)

Gravar na tabela mapaGlicemico:

ocasiao:(mesmo padrão de alimentosConsumidos)
data:data
glicemia:(glicemia)
uid:(uid do usuário logado)


------------------

Construa a pagina mapaGlicemico.html, nos mesmos padrões da página enviada com os seguintes requisitos:

Dois campos para que o usuário informe a data inicial e final da pesquisa.

Por padrão os dois campos de data devem mostrar a data atual.

Com base no intervalo definido pelo usuário o sistema deve buscar dados na tabela mapaGlicemico do firebase para construir a seguinte tabela:

Coluna Dia: primeiro dia do intervalo para a primeira linha, segundo dia do intervalo para a segunda linha etc...
Coluna Almoço: valor de mapaGlicemico.glicemia do registro do dia onde mapaGlicemico.ocasiao for "almoco".
Coluna Almoço 2h: valor de mapaGlicemico.glicemia do registro do dia onde mapaGlicemico.ocasiao for "almoco2hDepois".



3h:3h
Jejum:jejum
Café:cafeDaManha
Café 2h:cafeDaManha2hDepois
Lanche:lancheDaManha
Lanche 2h:lancheDaManha2hDepois
Almoço:almoco
Almoço 2h:almoco2hDepois
Lanche:lancheDaTarde
Lanche 2h:lancheDaTarde2hDepois
Jantar:jantar
Jantar 2h:jantar2hDepois
Ceia:ceia
Ceia 2h:ceia2hDepois
Ao deitar:aoDeitar


****INFORMAR GLICEMIA,  3H , JEJUM E AO ACORDAR...

Preciso que os seguintes requisitos sejam implementados na minha página:

O sistema deve verificar na tabela mapaGlicemico, a existência de registros, da data da pesquisa,
onde o campo ocasiao tem uma das strings: "3h", "jejum" ou "aoDeitar".


Se o registro com a string "3h" no campo ocasiao não for localizado criar a entrada: 

data:Dia atual(definido pelo usuario) e hora definida em usuarios.3h do usuário logado.
glicemia:null
ocasiao:3h
uid:(uid do usuário logado)
verificado:false

Se o registro com a string "3h" no campo ocasiao for localizado e se o campo vefificado for igual a false
então se a (data e hora atual) >= campo data(da tabela mapaGlicemico) então o sistema deve buscar a glicemia do nightscout, gravá-la 
no campo glicemia e alterar o campo verificado para true.


Se o registro com a string "jejum" no campo ocasiao não for localizado criar a entrada: 

data:Dia atual(definido pelo usuario) e hora definida em usuarios.jejum do usuário logado.
glicemia:null
ocasiao:jejum
uid:(uid do usuário logado)
verificado:false

Se o registro com a string "jejum" no campo ocasiao for localizado e se o campo vefificado for igual a false
então se a (data e hora atual) >= campo data(da tabela mapaGlicemico) então o sistema deve buscar a glicemia do nightscout, gravá-la 
no campo glicemia e alterar o campo verificado para true.

Se o registro com a string "aoDeitar" no campo ocasiao não for localizado criar a entrada: 

data:Dia atual(definido pelo usuario) e hora definida em usuarios.aoDeitar do usuário logado.
glicemia:null
ocasiao:aoDeitar
uid:(uid do usuário logado)
verificado:false

Se o registro com a string "aoDeitar" no campo ocasiao for localizado e se o campo vefificado for igual a false
então se a (data e hora atual) >= campo data(da tabela mapaGlicemico) então o sistema deve buscar a glicemia do nightscout, gravá-la 
no campo glicemia e alterar o campo verificado para true.



Abaixo deve haver outra tabela , a primeira coluna é a Ocasião que terá as linhas, 
3h da manhã, Jejum e Ao Acordar, na segunda coluna ficarão os campos de texto correspondentes.



O campo de texto que corresponde a 3h deve ser preenchido com o valor de mapaGlicemico.glicemia em que
data é a data atual, verificado for true e ocasiao=3h. 
O campo de texto que corresponde a jejum deve ser preenchido com o valor de mapaGlicemico.glicemia em que
data é a data atual, verificado for true e ocasiao=jejum. 
O campo de texto que corresponde a aoDeitar deve ser preenchido com o valor de mapaGlicemico.glicemia em que
data é a data atual, verificado for true e ocasiao=aoDeitar. 

Se o usuário preencher ou editar o campo, o botão Gravar deve ser ativado o valor inserido no campo deve ser gravado em 
mapaGlicemico.glicemia e mapaGlicemico.verificado deve ser alterado para true.
Os mesmos passos devem ser realizados para ocasiao "jejum" e "aoDeitar".

















